# MICRONS Configuration
# Large-scale cortical connectomics

defaults:
  - default

experiment_name: microns_segmentation
project_name: neurocircuitry-microns

# Data configuration for MICRONS
data:
  dataset: microns
  data_root: data/microns
  batch_size: 4
  num_workers: 4
  train_val_split: 0.2
  cache_rate: 0.3  # Lower cache rate for large data
  slice_mode: true
  volume_file: volume
  segmentation_file: segmentation
  include_synapses: false
  include_mitochondria: false
  crop_size:
    - 256
    - 256

# Model configuration
model:
  type: segresnet
  in_channels: 1
  out_channels: 2
  spatial_dims: 2
  init_filters: 32
  feature_dim: 64
  emb_dim: 16
  dropout: 0.2
  use_instance_head: true

# Optimizer
optimizer:
  type: adamw
  lr: 1.0e-4
  weight_decay: 1.0e-5
  scheduler:
    type: cosine
    T_max: 100
    eta_min: 1.0e-6

# Loss configuration
loss:
  semantic_weight: 1.0
  instance_weight: 1.0
  discriminative:
    delta_var: 0.5
    delta_dist: 1.5

# Training configuration
training:
  max_epochs: 50
  accelerator: auto
  devices: 1
  precision: 16-mixed  # Mixed precision for large data
